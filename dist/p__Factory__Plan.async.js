(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"1bvF":function(e,t,a){e.exports={antdTable:"antd-pro-pages-factory-plan-index-antdTable",progressAll:"antd-pro-pages-factory-plan-index-progressAll",progress:"antd-pro-pages-factory-plan-index-progress",product:"antd-pro-pages-factory-plan-index-product",img:"antd-pro-pages-factory-plan-index-img"}},"KS+i":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU2RkE2QUFGODIxMDExRUE5NTNFRjlCRkQwREUxNTZDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU2RkE2QUIwODIxMDExRUE5NTNFRjlCRkQwREUxNTZDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTZGQTZBQUQ4MjEwMTFFQTk1M0VGOUJGRDBERTE1NkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTZGQTZBQUU4MjEwMTFFQTk1M0VGOUJGRDBERTE1NkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6CQHl0AAADjUlEQVR42oxVTUhVQRQ+99731DT/inDRj0VBhkhZkQZZoEbQIsqSQFr0R20CTSWChB5tok20qaUmURRRiyLaJRkPTbGIiBQCxX7QqFc805f6rrdvzpw73vcEaeC7M3Pm/J8zcy0671HKsNLWHpVjPoB5F3YbgRWAC3wD7QOFqQvnD2iaxslmfj1cLW8tYiATuAmcosWGxzIJoA3r6/9roAroBNYJdRj0p5j7aI5GMWdhvx7zduAwlBaIXA9QB54xIGDASvFmP77PhPJdcYB+j3e2eOavtW/54GnFuk0cHANPKRDTBprBlRShEBXhOybGPuG0AojxXnu0Gmjn3DvUxAaUQYc5toInivMs0AdRk01KxmYmZWCWmTvZM6LfYKwyyj2TunNY12JuBO8qNuqnNUlvaIb2CKUEFbwKU1CnDku5PzZDeJ8I1XKovuc+lKAek0A80Gk6ZSHUiOiy8FwErcjmgxHgC0XQcor5FpQNwBti+PnWka0VyiAUx1m5LcY9s76C7y+J/IRKUTcUvUaKDopHquUqQQ+ZlrOZnmm6ykNXuZL/2RQef34o1L02LCahagcXSue6BegBY7YJX6doA765ouwdZIgRNtEFR5fM5SqCevIWMNQgqrhJkSddMj/es1JH4LesZ/gHZVWoavBTLpU/qoEX5i6HTei5gcvYzJ2XAKalVn4dXJ7/kMmcxQKX8O0FjnB4vidh8TCD5w7wdYuHu2HgDiufFLhixDXpVGMqJIuvEN4Z6HftfbCI2t8a5L0ffFtg9BiMjuO81dTAMxFWSv2G7JRHK/UBo5Q+10iy9xbU6nvRQjnUgJeIaCmwBMjhaOvk5vfaaRdJjaM4yJfU6U7JCBieoQmorzHns3QXsZXJS6ButMpEmTjWMR+BvkwdIN7H4eMFtzRDjOnCv8L3pDGapDzj4Bz+DVpfH+T7Q4HWUvgoqanGfANoMumxFzzpyplRrJXfUbkvz/lBJO6u48qoQ8UR4qaKczdEkcs1oJZDoBKUlcBLCE0HnAjWaxiGR8BfAmWPuAkcTlsDTaEbXWWgJKLz7z/Z+fQE1OVQUoHdNuCM/CYngFigr4pgWP1GL6hcYy6WupwFRyfHZattvUfm1XTEZ4f3h/BtBwrSbvkPqUheWmsOAI1AlONNaAMOlUbma2CLmC3X3aLbgIqtEFgmJ9lSajX+gvIWPNewPo35M0fhSkaw/ifAAHeKKDGvtolYAAAAAElFTkSuQmCC"},fm3w:function(e,t,a){"use strict";a.r(t);a("g9YV");var n,i,r,l=a("wCAj"),o=a("2Taf"),c=a.n(o),d=a("vZ4D"),s=a.n(d),p=a("l4Ni"),m=a.n(p),u=a("ujKo"),g=a.n(u),h=a("MhPg"),A=a.n(h),v=a("KS+i"),w=a.n(v),f=a("Pte7"),b=a.n(f),I=a("dhj6"),k=a("4iOM"),E=a("+5uU"),R=a("HMDM"),M=a("MuoO"),N=a("wd/R"),U=a.n(N),j=a("q1tI"),x=a.n(j),y=a("Y2fQ"),C=a("1bvF"),Z=a.n(C),B=(n=Object(M["connect"])(function(e){var t=e.department,a=e.plan,n=e.loading;return{department:t.department,planList:a.planList,nextPage:a.planNext,loading:n.effects["plan/fetchList"]}}),n((r=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=m()(this,(e=g()(t)).call.apply(e,[this].concat(i))),a.state={visible:!1,size:10,workshop:0},a.onChange=function(e){var t=a.props.dispatch,n=a.state.size;a.setState({workshop:e}),t({type:"plan/fetchList",payload:{workshop:e,size:n}})},a.onAddClick=function(){a.setState({visible:!0})},a.onClickMore=function(){var e=a.props,t=e.dispatch,n=e.nextPage,i=a.state,r=i.size,l=i.workshop;t({type:"plan/fetchList",payload:{workshop:l,size:r,page:n}})},a.columns=[{title:"\u4ea7\u54c1",dataIndex:"product",align:"center",width:"10%",render:function(e,t){return x.a.createElement("div",{className:Z.a.product},x.a.createElement("div",{className:Z.a.img},x.a.createElement("img",{src:t.thumbnail||b.a})),x.a.createElement("span",{style:{fontWeight:"bold"}},e))}},{title:"\u8fdb\u5ea6",dataIndex:"pro",align:"center",width:"20%",render:function(e,t){return x.a.createElement("div",{className:Z.a.progressAll},x.a.createElement("div",{className:Z.a.progress},x.a.createElement("div",{style:{width:t.valid/t.total*100+"%",backgroundColor:"#1f9a0b"}})),x.a.createElement("span",null,Object(E["a"])(t.valid),"/",t.total,t.unit))}},{title:"\u9884\u8ba1\u7528\u65f6",dataIndex:"estimate",align:"center",width:"10%",render:function(e){return Object(R["a"])(e)}},{title:"\u72b6\u6001",dataIndex:"state",align:"center",width:"10%",filters:[{text:"\u5f85\u751f\u4ea7",value:"queue"},{text:"\u751f\u4ea7\u4e2d",value:"work"},{text:"\u5df2\u5b8c\u6210",value:"complete"}],onFilter:function(e,t){return 0===t.state.indexOf(e)},render:function(e){return Object(y["formatMessage"])({id:e})}},{title:"\u8f66\u95f4",dataIndex:"workshop",align:"center",width:"10%"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created",align:"center",width:"10%",render:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u5173\u8054\u8ba2\u5355",dataIndex:"orderName",align:"center",width:"10%"},{title:"",dataIndex:"action",align:"center",width:"10%",render:function(e){return x.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},x.a.createElement("img",{src:w.a}),x.a.createElement("img",{src:w.a}),x.a.createElement("img",{src:w.a}))}}],a}return A()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.state,a=t.size,n=t.workshop;e({type:"department/fetchDepartment",payload:{type:"workshop"}}),e({type:"plan/fetchList",payload:{workshop:n,size:a}})}},{key:"render",value:function(){var e=this.props,t=e.department,a=e.loading,n=e.nextPage,i=e.planList,r={department:t,onChangeSelect:this.onChange,onHandleClick:this.onAddClick},o={nextPage:n,onClickMore:this.onClickMore};return x.a.createElement(j["Fragment"],null,x.a.createElement(I["a"],r),x.a.createElement(l["a"],{loading:a,className:Z.a.antdTable,columns:this.columns,dataSource:i,pagination:!1,rowKey:"id"}),x.a.createElement(k["a"],o))}}]),t}(j["PureComponent"]),i=r))||i);t["default"]=B}}]);