(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0DCu":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a("qIgq"),i=a.n(n),c=a("q1tI"),r=a.n(c),l=a("3a4m"),s=a.n(l),d=a("uNMM"),o=a.n(d),u=(a("zHco"),[{type:"detail",name:"\u8be6\u60c5"},{type:"statistics",name:"\u72b6\u6001\u7edf\u8ba1"},{type:"record",name:"\u72b6\u6001\u8bb0\u5f55"},{type:"design",name:"\u82b1\u6837"},{type:"yield",name:"\u4ea7\u91cf"}]);function p(e){var t=this,a=Object(c["useState"])(null),n=i()(a,2),l=n[0],d=n[1];Object(c["useEffect"])(function(){var t=e.location,a=e.match,n=t.pathname,i=a.path,c=n.replace("".concat(i,"/"),"");d(c)},[]);var p=function(t){var a=e.location;e.match;s.a.push("/factory/produce/device/info/".concat(t.type).concat(a.search)),d(t.type)},m=e.children;return r.a.createElement("div",{className:o.a.box},r.a.createElement("div",{className:o.a.menu},u.map(function(e,a){return r.a.createElement("div",{key:a,className:"".concat(o.a.menuTab," ").concat(l===e.type&&o.a.selectMenu||null),onClick:p.bind(t,e)},e.name)}),r.a.createElement("div",{className:o.a.right},r.a.createElement("span",{onClick:function(){return s.a.push("/factory/produce/device")}},"\u751f\u4ea7   >>   \u8bbe\u5907   >>   \u8be6\u60c5"))),r.a.createElement("div",null,m))}},"28XM":function(e,t,a){"use strict";a.r(t);var n,i,c,r=a("2Taf"),l=a.n(r),s=a("vZ4D"),d=a.n(s),o=a("l4Ni"),u=a.n(o),p=a("ujKo"),m=a.n(p),v=a("MhPg"),f=a.n(v),y=a("nv8Q"),g=a("HMDM"),h=a("cQSq"),E=a.n(h),x=a("yP6+"),b=a("1Gbu"),N=a.n(b),k=a("MuoO"),C=a("q1tI"),M=a.n(C),D=a("Y2fQ"),S=a("yb09"),j=a("wzM3"),w=a.n(j);function O(e){var t=E.a.DataView,a=e.stateList,n=x["Guide"].Html,i=new t;i.source(a).transform({type:"percent",field:"count",dimension:"state",as:"percent"});var c={percent:{formatter:function(e){return e=100*e+"%",e}}};return M.a.createElement(x["Chart"],{height:360,width:360,padding:20,data:i,scale:c},M.a.createElement(x["Coord"],{type:"theta",radius:1,innerRadius:.8}),M.a.createElement(x["Axis"],{name:"percent"}),M.a.createElement(x["Tooltip"],{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),M.a.createElement(x["Guide"],null,M.a.createElement(n,{position:["50%","50%"],html:" <div style='text-align: center;width: 20em;'> <div style='color:#333;font-size:24px;height: 24px;line-height: 24px;'> \u72b6\u6001\u65f6\u95f4\u5360\u6bd4 </div> </div> ",alignX:"middle",alignY:"middle"})),M.a.createElement(x["Geom"],{type:"intervalStack",position:"percent",color:["color",function(e){return e}],tooltip:["state*percent",function(e,t){return t=100*t+"%",{name:e,value:t}}]}))}a.d(t,"default",function(){return I});x["G2"].Global,x["G2"].Util,x["G2"].Theme;var Y=[7,15,30],z=[{reason:"\u5f00\u8f66",type:"run",color:"#1a9805"},{reason:"\u505c\u8f66",type:"stop",color:"#e77608"},{reason:"\u6545\u969c",type:"error",color:"#c30000"},{reason:"\u79bb\u7ebf",type:"offline",color:"#848484"}],P=new E.a({state:{start:0,end:1}}),I=(n=Object(k["connect"])(function(e){var t=e.run;return{reason:t.reason,utilize:t.utilize,stateList:t.stateList,reasonCount:t.reasonCount,reasonDuration:t.reasonDuration}}),n((c=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),a.state={index:7,statusSel:"run",statusColor:"#1a9805",start:Object(y["b"])(6),end:Object(y["b"])(0),date:new Date,device:null,size:1e3},a.onHandleSelect=function(e){var t=a.props.dispatch,n=a.state,i=(n.start,n.end),c=n.device,r=n.size;a.setState({index:e}),t({type:"run/runUtilize",payload:{device:c,start:Object(y["b"])(e-1),end:i,size:r}})},a.onHandleSelStatus=function(e){var t=a.props.dispatch,n=a.state,i=n.statusSel,c=(n.start,n.date),r=n.device;i!==e.type&&(a.setState({statusSel:e.type,statusColor:e.color}),t({type:"run/runReason",payload:{device:r,state:e.type,date:Object(y["a"])(c)}}))},a.handleSliderChange=function(e){var t=e.startRadio,a=e.endRadio;P.setState("start",t),P.setState("end",a)},a._onRefresh=function(e){var t=a.props.dispatch,n=a.state,i=n.device,c=n.statusSel;a.setState({date:e}),i&&(t({type:"run/runState",payload:{device:i,date:Object(y["a"])(e)}}),t({type:"run/runReason",payload:{device:i,state:c,date:Object(y["a"])(e)}}))},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.location,n=this.state,i=n.start,c=n.end,r=n.statusSel,l=n.size,s=n.date,d=a.query&&a.query.id;this.setState({device:d}),t({type:"run/runUtilize",payload:{device:d,start:i,end:c,size:l}}),t({type:"run/runState",payload:{device:d,date:Object(y["a"])(s)}}),t({type:"run/runReason",payload:{device:d,state:r,date:Object(y["a"])(s)}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.reason,n=t.utilize,i=t.stateList,c=t.reasonCount,r=t.reasonDuration,l=this.state,s=l.index,d=l.statusSel,o=l.statusColor,u=l.date,p={ratio:{range:[0,1]}},m=P.createView().source(n);m.transform({type:"filter",callback:function(e,t){var a=t/n.length;return a>=P.state.start&&a<=P.state.end}});var v={date:u,_onRefresh:this._onRefresh};return M.a.createElement("div",null,M.a.createElement("header",{className:w.a.header},M.a.createElement("span",{className:w.a.title},"\u7a3c\u52a8\u7387\u8d70\u52bf\u56fe"),Y.map(function(t,a){return M.a.createElement("div",{onClick:e.onHandleSelect.bind(e,t),className:"".concat(w.a.date," ").concat(s===t&&w.a.dateSelect),key:a},t,"\u65e5")})),M.a.createElement("div",{style:{height:459}},M.a.createElement(x["Chart"],{height:400,padding:"auto",data:m,scale:p,forceFit:!0},M.a.createElement(x["Axis"],{name:"date"}),M.a.createElement(x["Axis"],{name:"ratio",tooltip:["radio*percent",function(e,t){return t=100*t+"%",console.log(t),{name:e,value:t}}]}),M.a.createElement(x["Tooltip"],{crosshairs:{type:"y"}}),M.a.createElement(x["Geom"],{type:"line",position:"date*ratio"})),M.a.createElement(N.a,{data:n,padding:80,xAxis:"date",yAxis:"ratio",onChange:this.handleSliderChange})),M.a.createElement("header",{className:w.a.statistics},M.a.createElement("span",{className:w.a.title},"\u72b6\u6001\u7edf\u8ba1"),M.a.createElement(S["a"],v)),M.a.createElement("div",{className:w.a.eChart},M.a.createElement("div",{className:w.a.pie},M.a.createElement(O,{stateList:i})),M.a.createElement("div",{className:w.a.status},M.a.createElement("div",{className:w.a.reason},z.map(function(t,a){return M.a.createElement("div",{key:a,className:"".concat(d===t.type&&w.a.select),style:{background:t.color},onClick:e.onHandleSelStatus.bind(e,t)},t.reason)})),M.a.createElement("div",{className:w.a.list,style:{borderColor:o}},M.a.createElement("div",{className:w.a.listHeader,style:{background:o}},M.a.createElement("span",null,"\u5408\u8ba1"),M.a.createElement("span",null,c,"\u6b21"),M.a.createElement("span",null,Object(g["a"])(r))),M.a.createElement("div",{className:w.a.listBody},M.a.createElement("div",{className:w.a.bodyHeader,style:{borderColor:o}},M.a.createElement("span",null,"\u539f\u56e0"),M.a.createElement("span",null,"\u6b21\u6570"),M.a.createElement("span",null,"\u65f6\u957f")),a&&a.map(function(e,t){return M.a.createElement("div",{key:t,className:w.a.content,style:{borderColor:o}},M.a.createElement("span",null,e.reason&&Object(D["formatMessage"])({id:"error-code-".concat(e.reason)})),M.a.createElement("span",null,e.count),M.a.createElement("span",null,Object(g["a"])(e.duration)))}))))))}}]),t}(C["PureComponent"]),i=c))||i)},"4lpz":function(e,t,a){e.exports={status:"antd-pro-pages-factory-device-item-header-index-status",deviceStatus:"antd-pro-pages-factory-device-item-header-index-deviceStatus",block:"antd-pro-pages-factory-device-item-header-index-block"}},"63HX":function(e,t,a){e.exports={ceil:"antd-pro-pages-factory-device-item-ceil-index-ceil",left:"antd-pro-pages-factory-device-item-ceil-index-left",img:"antd-pro-pages-factory-device-item-ceil-index-img",utilize:"antd-pro-pages-factory-device-item-ceil-index-utilize",right:"antd-pro-pages-factory-device-item-ceil-index-right",infoTop:"antd-pro-pages-factory-device-item-ceil-index-infoTop",name:"antd-pro-pages-factory-device-item-ceil-index-name",type:"antd-pro-pages-factory-device-item-ceil-index-type",status:"antd-pro-pages-factory-device-item-ceil-index-status",content:"antd-pro-pages-factory-device-item-ceil-index-content",overflow:"antd-pro-pages-factory-device-item-ceil-index-overflow",deviceName:"antd-pro-pages-factory-device-item-ceil-index-deviceName",colorStatus:"antd-pro-pages-factory-device-item-ceil-index-colorStatus"}},"7FDd":function(e,t,a){e.exports={dateRang:"antd-pro-pages-factory-device-device-detail-component-date-index-dateRang"}},GBrW:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return M});var n,i,c,r=a("2Taf"),l=a.n(r),s=a("vZ4D"),d=a.n(s),o=a("l4Ni"),u=a.n(o),p=a("ujKo"),m=a.n(p),v=a("MhPg"),f=a.n(v),y=a("4iOM"),g=a("+5uU"),h=a("nv8Q"),E=a("MuoO"),x=a("q1tI"),b=a.n(x),N=a("yb09"),k=a("IXmq"),C=a.n(k),M=(n=Object(E["connect"])(function(e){var t=e.Yield;return{device:t.device,nextPage:t.deviceNext}}),n((c=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),a.state={unit:null,device:null,date:Object(h["a"])(),size:16},a.onClickMore=function(){var e=a.props,t=e.dispatch,n=e.nextPage,i=a.state,c=i.device,r=i.date,l=i.size;t({type:"Yield/yieldByDevice",payload:{device:c,size:l,page:n,date:Object(h["a"])(r)}})},a._onRefresh=function(e){var t=a.props.dispatch,n=a.state,i=n.device,c=n.size;i&&t({type:"Yield/yieldByDevice",payload:{device:i,size:c,date:Object(h["a"])(e)}})},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.location,n=this.state,i=n.date,c=n.size,r=a.query&&a.query.id,l=JSON.parse(localStorage.getItem("unit"));this.setState({unit:l,device:r}),t({type:"Yield/yieldByDevice",payload:{device:r,date:i,size:c}})}},{key:"render",value:function(){var e=this.props,t=e.device,a=e.nextPage,n=this.state,i=n.unit,c=n.date,r={nextPage:a,onClickMore:this.onClickMore},l={date:c,_onRefresh:this._onRefresh};return b.a.createElement("div",null,b.a.createElement(N["a"],l),b.a.createElement("div",{className:C.a.list},t&&t.map(function(e,t){var a=e.unitType,n=null,c=1;try{n=a&&i&&i.filter(function(e,t){return e.type===a})[0].name||null,c=a&&i&&i.filter(function(e,t){return e.type===a})[0].factor||1}catch(e){}return b.a.createElement("div",{className:C.a.item,key:t},b.a.createElement("div",{className:C.a.content},b.a.createElement("div",{className:C.a.header},b.a.createElement("span",null,e.design)),b.a.createElement("div",{className:C.a.unitCount}," ",Object(g["a"])(e.count*c,0),n)),b.a.createElement("div",{className:C.a.footer},b.a.createElement("span",null,"\u82b1\u6837\u4ea7\u91cf\uff1a",Object(g["a"])(e.designYield*c),n),b.a.createElement("span",null,"\u6b63\u54c1\u6570\u91cf\uff1a",Object(g["a"])(e.valid*c,0))))}),b.a.createElement(y["a"],r)))}}]),t}(x["PureComponent"]),i=c))||i)},IXmq:function(e,t,a){e.exports={dateRang:"antd-pro-pages-factory-device-device-detail-yield-index-dateRang",list:"antd-pro-pages-factory-device-device-detail-yield-index-list",item:"antd-pro-pages-factory-device-device-detail-yield-index-item",content:"antd-pro-pages-factory-device-device-detail-yield-index-content",header:"antd-pro-pages-factory-device-device-detail-yield-index-header",unitCount:"antd-pro-pages-factory-device-device-detail-yield-index-unitCount",footer:"antd-pro-pages-factory-device-device-detail-yield-index-footer"}},JWk1:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return f});var n=a("2Taf"),i=a.n(n),c=a("vZ4D"),r=a.n(c),l=a("l4Ni"),s=a.n(l),d=a("ujKo"),o=a.n(d),u=a("MhPg"),p=a.n(u),m=a("q1tI"),v=a.n(m),f=function(e){function t(){return i()(this,t),s()(this,o()(t).apply(this,arguments))}return p()(t,e),r()(t,[{key:"render",value:function(){var e=this.props.children;return v.a.createElement("div",null,e)}}]),t}(m["PureComponent"])},KKAn:function(e,t,a){e.exports={design:"antd-pro-pages-factory-device-device-detail-design-index-design",item:"antd-pro-pages-factory-device-device-detail-design-index-item",designImg:"antd-pro-pages-factory-device-device-detail-design-index-designImg",main:"antd-pro-pages-factory-device-device-detail-design-index-main",content:"antd-pro-pages-factory-device-device-detail-design-index-content",date:"antd-pro-pages-factory-device-device-detail-design-index-date",more:"antd-pro-pages-factory-device-device-detail-design-index-more"}},QDKO:function(e,t,a){e.exports={box:"antd-pro-pages-factory-device-index-box",device:"antd-pro-pages-factory-device-index-device",more:"antd-pro-pages-factory-device-index-more"}},V14q:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return j});var n,i,c,r=a("2Taf"),l=a.n(r),s=a("vZ4D"),d=a.n(s),o=a("l4Ni"),u=a.n(o),p=a("ujKo"),m=a.n(p),v=a("MhPg"),f=a.n(v),y=a("4iOM"),g=a("nv8Q"),h=a("HMDM"),E=a("MuoO"),x=a("wd/R"),b=a.n(x),N=a("q1tI"),k=a.n(N),C=a("Y2fQ"),M=a("yb09"),D=a("xnr5"),S=a.n(D),j=(n=Object(E["connect"])(function(e){var t=e.run;return{report:t.report,nextPage:t.nextReport}}),n((c=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),a.state={end:new Date,device:null,size:16},a.onClickMore=function(){var e=a.props,t=e.nextPage,n=e.dispatch,i=a.state,c=i.device,r=i.size,l=i.end;n({type:"run/runFet",payload:{end:Object(g["a"])(l),device:c,size:r,page:t}})},a._onRefresh=function(e){var t=a.props.dispatch,n=a.state,i=n.device,c=n.size;a.setState({end:e}),i&&t({type:"run/runFet",payload:{device:i,size:c,end:Object(g["a"])(e)}})},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.location,n=this.state,i=n.end,c=n.size,r=a.query&&a.query.id;this.setState({device:r}),t({type:"run/runFet",payload:{device:r,end:Object(g["a"])(i),size:c,state:"none"}})}},{key:"render",value:function(){var e=this.props,t=e.report,a=e.nextPage,n=this.state.end,i={nextPage:a,onClickMore:this.onClickMore},c={date:n,_onRefresh:this._onRefresh};return k.a.createElement("div",null,k.a.createElement("div",{className:S.a.header},k.a.createElement("div",null,k.a.createElement(M["a"],c))),k.a.createElement("div",null,k.a.createElement("table",{className:S.a.table},k.a.createElement("thead",null,k.a.createElement("tr",null,k.a.createElement("td",null,k.a.createElement("span",null,"\u5f00\u59cb\u65f6\u95f4")),k.a.createElement("td",null,k.a.createElement("span",null,"\u72b6\u6001")),k.a.createElement("td",null,k.a.createElement("span",null,"\u65f6\u957f")),k.a.createElement("td",null,k.a.createElement("span",null,"\u539f\u56e0")),k.a.createElement("td",null,k.a.createElement("span",null,"\u673a\u5934-\u9488\u4f4d")))),k.a.createElement("tbody",null,t&&t.map(function(e,t){return k.a.createElement("tr",{key:t},k.a.createElement("td",null,b()(e.start).format("YYYY-MM-DD HH:mm:ss")),k.a.createElement("td",null,Object(C["formatMessage"])({id:"device.".concat(e.state)})),k.a.createElement("td",null,Object(h["a"])(e.duration)),k.a.createElement("td",null,e.reason),k.a.createElement("td",null,e.position))}))),k.a.createElement(y["a"],i)))}}]),t}(N["PureComponent"]),i=c))||i)},fGiI:function(e,t,a){e.exports={box:"antd-pro-pages-factory-device-device-detail-detail-index-box",left:"antd-pro-pages-factory-device-device-detail-detail-index-left",title:"antd-pro-pages-factory-device-device-detail-detail-index-title",detail:"antd-pro-pages-factory-device-device-detail-detail-index-detail",diff:"antd-pro-pages-factory-device-device-detail-detail-index-diff",status:"antd-pro-pages-factory-device-device-detail-detail-index-status",line:"antd-pro-pages-factory-device-device-detail-detail-index-line",right:"antd-pro-pages-factory-device-device-detail-detail-index-right"}},h0YM:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return C});var n,i,c,r=a("2Taf"),l=a.n(r),s=a("vZ4D"),d=a.n(s),o=a("l4Ni"),u=a.n(o),p=a("ujKo"),m=a.n(p),v=a("MhPg"),f=a.n(v),y=a("4iOM"),g=a("MuoO"),h=a("wd/R"),E=a.n(h),x=a("q1tI"),b=a.n(x),N=a("KKAn"),k=a.n(N),C=(n=Object(g["connect"])(function(e){var t=e.deploy;return{design:t.designList,nextPage:t.designNext,designImgList:t.designImgList}}),n((c=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),a.state={device:null,size:16},a.onClickMore=function(){var e=a.props,t=e.nextPage,n=e.dispatch,i=a.state,c=i.device,r=i.size;n({type:"deploy/deployByDevice",payload:{device:c,size:r,page:t}})},a.onHandleDel=function(e){var t=a.props,n=(t.nextPage,t.dispatch),i=a.state,c=i.device,r=i.size;n({type:"deploy/delDeploy",del:{design:e.design,devices:[c]},fet:{device:c,size:r}})},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.location,n=this.state.size,i=a.query&&a.query.id;this.setState({device:i}),t({type:"deploy/deployByDevice",payload:{device:i,size:n}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.design,i=t.nextPage,c=t.designImgList,r={nextPage:i,onClickMore:this.onClickMore};return b.a.createElement("div",{className:k.a.design},n&&n.map(function(t,n){return b.a.createElement("div",{key:n,className:k.a.item},b.a.createElement("div",{className:k.a.designImg},b.a.createElement("img",{src:c[n]})),b.a.createElement("div",{className:k.a.main},b.a.createElement("img",{onClick:e.onHandleDel.bind(e,t),src:a("3XQ/")}),b.a.createElement("div",{className:k.a.content},b.a.createElement("span",null,t.design),b.a.createElement("span",null,t.type[0])),b.a.createElement("div",{className:k.a.date},E()(t.created).format("YYYY-MM-DD HH:mm:ss"))))}),b.a.createElement(y["a"],r))}}]),t}(x["PureComponent"]),i=c))||i)},nv8Q:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return r});var n=a("wd/R"),i=a.n(n);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return i.a.utc(e).local().format(t)}function r(e){return i()().subtract("days",e).format("YYYY-MM-DD")}},"q/2h":function(e,t,a){"use strict";a.r(t);var n,i,c,r=a("jehZ"),l=a.n(r),s=a("2Taf"),d=a.n(s),o=a("vZ4D"),u=a.n(o),p=a("l4Ni"),m=a.n(p),v=a("ujKo"),f=a.n(v),y=a("MhPg"),g=a.n(y),h=a("MuoO"),E=a("q1tI"),x=a.n(E),b=a("QDKO"),N=a.n(b),k=[{name:"\u5168\u90e8",color:"#0072ff",clump:"all",type:"all",bg:"#eaf2fa"},{name:"\u5f00\u8f66",color:"#1a9805",clump:"runs",type:"run",bg:"#eafff5"},{name:"\u505c\u8f66",color:"#e77608",clump:"stops",type:"stop",bg:"#faf1e5"},{name:"\u6545\u969c",color:"#c30000",clump:"errors",type:"error",bg:"#fae7e7"},{name:"\u79bb\u7ebf",color:"#848484",clump:"offlines",type:"offline",bg:"#f2f2f2"}],C=a("4lpz"),M=a.n(C),D=a("dhj6"),S=function(e){function t(){var e,a;d()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=m()(this,(e=f()(t)).call.apply(e,[this].concat(i))),a.state={select:"all"},a.onChange=function(e){var t=a.props.onChangeSelect;t&&t(e)},a.onAddClick=function(){console.log("onAddClick")},a._onClickStatus=function(e){var t=a.props.onClickStatus;a.setState({select:e}),t&&t(e)},a}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.department,n=t.devices,i=this.state.select,c={department:a,onChangeSelect:this.onChange,onHandleClick:this.onAddClick};return x.a.createElement(D["a"],c,x.a.createElement("div",{className:M.a.status},k.map(function(t,a){return x.a.createElement("div",{className:M.a.deviceStatus,onClick:e._onClickStatus.bind(e,t.type),style:{background:t.type===i&&t.color,borderColor:t.color},key:a},x.a.createElement("span",{className:M.a.block,style:{background:t.type===i?"#fff":t.color}}),x.a.createElement("span",{style:{color:t.type===i?"#fff":t.color}},t.name,"\uff1a",n&&n[t.clump]))})))}}]),t}(E["PureComponent"]),j=S,w=a("dSG3"),O=a.n(w),Y=a("vPT5"),z=a.n(Y),P=a("PFFA"),I=a.n(P),H=a("5obs"),q=a.n(H),A=a("zPqN"),R=a.n(A),T=a("+5uU"),Q=a("wd/R"),G=a.n(Q),K=a("Y2fQ"),F=a("3a4m"),_=a.n(F),B=a("63HX"),L=a.n(B),Z=function(e){var t=e.left,a=e.right,n=e.type;return x.a.createElement("div",{className:"".concat(L.a.content," ").concat(n&&L.a.overflow)},x.a.createElement("span",null,t),a&&x.a.createElement("span",null,a))},U=function(e){function t(){var e,a;d()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=m()(this,(e=f()(t)).call.apply(e,[this].concat(i))),a.judgeImg=function(e,t){if("embroidery"===e){if("A15"===t)return O.a;if("A98"===t)return I.a;if("M98"===t)return q.a;if("A18"===t||"A58"===t)return z.a}switch(e){case"glove":return R.a;default:return I.a}},a.onSelectBg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"color",a=k.filter(function(t,a){return t.type===e})||null,n=a[0]&&a[0][t]||null;return n},a.onHandleDetail=function(){var e=a.props,t=e.id;e.name;_.a.push("/factory/produce/device/info/detail?id=".concat(t),{id:t})},a}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.user,n=e.utilize,i=e.state,c=e.type,r=e.workshop,l=(e.worker,e.start),s=e.reason,d=e.model;e.id;return x.a.createElement("div",{className:L.a.ceil,onClick:this.onHandleDetail},x.a.createElement("div",{className:L.a.left},x.a.createElement("div",{className:L.a.img},x.a.createElement("img",{src:this.judgeImg(c,d)})),x.a.createElement("span",{className:L.a.utilize},n&&Object(T["a"])(n.ratio),"%")),x.a.createElement("div",{className:L.a.right},x.a.createElement("div",{className:L.a.infoTop},x.a.createElement("div",null,x.a.createElement("span",{className:L.a.name},t),d&&x.a.createElement("span",{className:L.a.type},d)),x.a.createElement("span",{className:L.a.status,style:{background:this.onSelectBg(i)}},Object(K["formatMessage"])({id:"device.".concat(i)}))),x.a.createElement(Z,{left:"\u5458\u5de5\uff1a".concat(a||""),right:"\u8f66\u95f4\uff1a".concat(r)}),x.a.createElement(Z,{left:"\u66f4\u65b0\uff1a".concat(l&&G()(l).format("YYYY-MM-DD HH:mm:ss"))}),x.a.createElement(Z,{left:"\u539f\u56e0\uff1a".concat(s||"\u65e0"),type:!0})))}}]),t}(E["PureComponent"]),X=U,J=(n=Object(h["connect"])(function(e){var t=e.department,a=e.device,n=e.loading;return{department:t.department,devices:a.devices,loading:n.effects["device/fetchDevice"]}}),n((c=function(e){function t(){var e,a;d()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=m()(this,(e=f()(t)).call.apply(e,[this].concat(i))),a.state={workshopId:0,state:"none"},a.onChangeSelect=function(e){var t=a.props.dispatch,n=a.state,i=n.state,c=n.workshopId;e!==c&&(a.setState({workshopId:e}),t({type:"device/fetchDevice",payload:{workshopId:e,state:i}}))},a.onClickStatus=function(e){var t=a.props.dispatch,n=a.state,i=n.workshopId,c=n.state,r="all"===e?"none":e;r!==c&&(a.setState({state:r}),t({type:"device/fetchDevice",payload:{workshopId:i,state:r}}))},a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"department/fetchDepartment",payload:{type:"workshop"}}),e({type:"device/fetchDevice",payload:{}})}},{key:"render",value:function(){var e=this.props,t=e.department,a=e.devices,n=e.loading,i={department:t,devices:a,onChangeSelect:this.onChangeSelect,onClickStatus:this.onClickStatus};return x.a.createElement(E["Fragment"],null,x.a.createElement("div",{className:N.a.box},x.a.createElement(j,i),x.a.createElement("div",{className:N.a.device,loading:n+""},a&&a.items&&a.items.map(function(e,t){return x.a.createElement(X,l()({key:t},e))}))))}}]),t}(E["PureComponent"]),i=c))||i);t["default"]=J},t5dv:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return q});var n,i,c,r=a("2Taf"),l=a.n(r),s=a("vZ4D"),d=a.n(s),o=a("l4Ni"),u=a.n(o),p=a("ujKo"),m=a.n(p),v=a("MhPg"),f=a.n(v),y=a("dSG3"),g=a.n(y),h=a("vPT5"),E=a.n(h),x=a("PFFA"),b=a.n(x),N=a("5obs"),k=a.n(N),C=a("zPqN"),M=a.n(C),D=a("MuoO"),S=a("wd/R"),j=a.n(S),w=a("q1tI"),O=a.n(w),Y=a("Y2fQ"),z=a("fGiI"),P=a.n(z),I=a("+5uU"),H=a("HMDM"),q=(n=Object(D["connect"])(function(e){var t=e.device;return{detail:t.detail,live:t.live}}),n((c=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),a.judgeImg=function(e,t){if("embroidery"===e){if("A15"===t)return g.a;if("A98"===t)return b.a;if("M98"===t)return k.a;if("A18"===t||"A58"===t)return E.a}switch(e){case"glove":return M.a;default:return b.a}},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=(e.match,e.dispatch),n=t.query&&t.query.id;a({type:"device/deviceOne",payload:{id:n}}),a({type:"device/deviceLive",payload:{id:n}}),this.timer=setInterval(function(){a({type:"device/deviceLive",payload:{id:n}})},3e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.detail,a=e.live,n=t.id,i=t.vendor,c=t.model,r=t.display,l=t.name,s=t.type,d=t.workshop,o=t.ip,u=t.mac,p=t.machine,m=t.control,v=t.needles,f=t.board,y=t.heads,g=t.parameter,h=a.state,E=a.reason,x=a.total,b=a.rpm,N=a.utilize,k=a.start,C=a.user,M=a.updated,D=a.design,S=(a.plan,a.product);return O.a.createElement("div",{className:P.a.box},O.a.createElement("div",{className:P.a.left},O.a.createElement("div",{className:P.a.title},"\u5355\u53f0\u8bbe\u5907\u8be6\u60c5"),O.a.createElement("div",{className:P.a.detail},O.a.createElement("span",null,"\u7f16\u53f7: ",n),O.a.createElement("span",null,"\u7535\u63a7: ",c),O.a.createElement("span",null,"\u5934\u6570\uff1a",y),O.a.createElement("span",null,"\u663e\u793a\u8f6f\u4ef6: ",r)),O.a.createElement("div",{className:P.a.detail},O.a.createElement("span",null,"\u540d\u79f0: ",l),O.a.createElement("span",null,"\u673a\u578b: ",p),O.a.createElement("span",null,"IP: ",o),O.a.createElement("span",null,"\u4e3b\u63a7\u8f6f\u4ef6: ",m)),O.a.createElement("div",{className:P.a.detail},O.a.createElement("span",null,"\u8f66\u95f4: ",d),O.a.createElement("span",null,"\u9488\u6570: ",v),O.a.createElement("span",null,"MAC: ",u),O.a.createElement("span",null,"\u534f\u8bae\u7248\u672c\uff1a",f)),O.a.createElement("div",{className:P.a.detail},O.a.createElement("span",null,"\u5382\u5546\uff1a",i),g&&g.map(function(e,t){return O.a.createElement("span",{key:t},e.key,": ",e.value)})),O.a.createElement("div",{className:P.a.line}),O.a.createElement("div",{className:"".concat(P.a.title," ").concat(P.a.diff)},"\u5355\u53f0\u5f53\u524d\u72b6\u6001"),O.a.createElement("div",{className:P.a.status},O.a.createElement("span",null,"\u72b6\u6001: ",h&&Object(Y["formatMessage"])({id:"device.".concat(h)})),O.a.createElement("span",null,"\u5f53\u524d\u901f\u5ea6: ",b),O.a.createElement("span",null,"\u5f53\u5929\u5ac1\u52a8\u7387: ",Object(I["a"])(N&&100*N.ratio)+"%")),O.a.createElement("div",{className:P.a.status},O.a.createElement("span",null,"\u539f\u56e0: ",E&&Object(Y["formatMessage"])({id:"error-code-".concat(E)})),O.a.createElement("span",null,"\u7d2f\u8ba1\u9488\u6570: ",x),O.a.createElement("span",null,"\u72b6\u6001\u5f00\u59cb\uff1a",k&&j()(k).format("YYYY-MM-DD HH:mm:ss"))),O.a.createElement("div",{className:P.a.status},O.a.createElement("span",null,"\u65f6\u957f: ",k&&Object(H["a"])(k,!0)),O.a.createElement("span",null,"\u767b\u5f55\u7528\u6237: ",C),O.a.createElement("span",null,"\u72b6\u6001\u66f4\u65b0: ",M&&j()(M).format("YYYY-MM-DD HH:mm:ss"))),O.a.createElement("div",{className:P.a.line}),O.a.createElement("div",{className:"".concat(P.a.title," ").concat(P.a.diff)},"\u5355\u53f0\u5f53\u524d\u82b1\u6837\u4e0e\u8ba1\u5212"),O.a.createElement("div",{className:P.a.status},O.a.createElement("span",null,"\u82b1\u6837\uff1a",D&&D.name),O.a.createElement("span",null,"\u8ba1\u5212\uff1a",S),O.a.createElement("span",null,"\u72b6\u6001\u66f4\u65b0\uff1a",M&&j()(M).format("YYYY-MM-DD HH:mm:ss"))),O.a.createElement("div",{className:P.a.status},O.a.createElement("span",null,"\u8fdb\u5ea6\uff1a",D&&D.stitch,"/",D&&D.total,"\u9488"),O.a.createElement("span",null,"\u6b63\u5728\u751f\u4ea7\uff1a",D&&D.working))),O.a.createElement("div",{className:P.a.right},O.a.createElement("img",{src:this.judgeImg(s,c)})))}}]),t}(w["PureComponent"]),i=c))||i)},uNMM:function(e,t,a){e.exports={menu:"antd-pro-pages-factory-device-device-detail-index-menu",menuTab:"antd-pro-pages-factory-device-device-detail-index-menuTab",selectMenu:"antd-pro-pages-factory-device-device-detail-index-selectMenu"}},wzM3:function(e,t,a){e.exports={titleText:"antd-pro-pages-factory-device-device-detail-statistics-index-titleText",header:"antd-pro-pages-factory-device-device-detail-statistics-index-header",title:"antd-pro-pages-factory-device-device-detail-statistics-index-title",date:"antd-pro-pages-factory-device-device-detail-statistics-index-date",dateSelect:"antd-pro-pages-factory-device-device-detail-statistics-index-dateSelect",statistics:"antd-pro-pages-factory-device-device-detail-statistics-index-statistics",eChart:"antd-pro-pages-factory-device-device-detail-statistics-index-eChart",pie:"antd-pro-pages-factory-device-device-detail-statistics-index-pie",titleCenter:"antd-pro-pages-factory-device-device-detail-statistics-index-titleCenter",statusTime:"antd-pro-pages-factory-device-device-detail-statistics-index-statusTime",statusContent:"antd-pro-pages-factory-device-device-detail-statistics-index-statusContent",status:"antd-pro-pages-factory-device-device-detail-statistics-index-status",reason:"antd-pro-pages-factory-device-device-detail-statistics-index-reason",select:"antd-pro-pages-factory-device-device-detail-statistics-index-select",list:"antd-pro-pages-factory-device-device-detail-statistics-index-list",listHeader:"antd-pro-pages-factory-device-device-detail-statistics-index-listHeader",listBody:"antd-pro-pages-factory-device-device-detail-statistics-index-listBody",bodyHeader:"antd-pro-pages-factory-device-device-detail-statistics-index-bodyHeader",content:"antd-pro-pages-factory-device-device-detail-statistics-index-content"}},xnr5:function(e,t,a){e.exports={header:"antd-pro-pages-factory-device-device-detail-record-index-header",table:"antd-pro-pages-factory-device-device-detail-record-index-table"}},yb09:function(e,t,a){"use strict";a.d(t,"a",function(){return m});a("iQDF");var n=a("+eQT"),i=a("qIgq"),c=a.n(i),r=a("nv8Q"),l=a("wd/R"),s=a.n(l),d=a("q1tI"),o=a.n(d),u=a("7FDd"),p=a.n(u);function m(e){var t=e._onRefresh,a=Object(d["useState"])(e.date||Object(r["a"])()),i=c()(a,2),l=i[0],u=i[1];return Object(d["useEffect"])(function(){t&&t(l)},[l]),o.a.createElement("div",{className:p.a.dateRang},o.a.createElement("span",{onClick:function(){u(new Date(s()(l).subtract(1,"d")))}},"<<"),o.a.createElement(n["a"],{bordered:!1,value:s()(l,"YYYY-MM-DD"),allowClear:!1,onChange:function(e){u(new Date(s()(e)))}}),o.a.createElement("span",{onClick:function(){u(new Date(s()(l).add(1,"d")))}},">>"))}}}]);