(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{JuMZ:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,i,l,r,c,o,d=a("bx4M"),s=a("eHn4"),p=a.n(s),u=(a("+L6B"),a("2/Rp")),h=a("p0pE"),g=a.n(h),m=(a("2qtc"),a("kLXV")),v=(a("/zsF"),a("PArb")),b=a("2Taf"),y=a.n(b),f=a("vZ4D"),C=a.n(f),x=a("l4Ni"),E=a.n(x),k=a("ujKo"),I=a.n(k),S=a("MhPg"),T=a.n(S),P=(a("Znn+"),a("ZTPi")),w=a("yKxD"),M=a("zHco"),L=a("MuoO"),D=a("q1tI"),F=a.n(D),O=a("Y2fQ"),z=a("jehZ"),A=a.n(z),N=(a("y8nQ"),a("Vl3Y")),j=a("09Sv"),V=a("SEcb"),Z=a.n(V),H=(n=N["a"].create(),n((l=function(e){function t(){var e,a;y()(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return a=E()(this,(e=I()(t)).call.apply(e,[this].concat(i))),a.formLayout={labelCol:{span:9},wrapperCol:{span:13}},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.form,i=t.handleSubmit;n.validateFields(function(e,t){e||i(t)})},a.changeItem=function(e){var t=a.props.changeType;t(e)},a.handleCancel=function(e){e.preventDefault();var t=a.props.handleCancel;t()},a}return T()(t,e),C()(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.validateFields,i=e.current,l=e.visible,r=e.selectTab,c=e.client,o=e.proxy,d={okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},s={getFieldDecorator:a,current:i,formLayout:this.formLayout,selectTab:r,submit:this.handleSubmit,validateFields:n,changeItem:this.changeItem,client:c,proxy:o};return F.a.createElement(m["a"],A()({title:i&&i.id?"\u7f16\u8f91".concat(0==r?"\u5ba2\u6237":"\u4ee3\u7406"):"\u65b0\u589e".concat(0==r?"\u5ba2\u6237":"\u4ee3\u7406"),className:Z.a.standardListForm,width:880,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,visible:l},d),F.a.createElement(j["a"],s))}}]),t}(D["PureComponent"]),i=l))||i),J=H,K=a("6PxE"),q=P["a"].TabPane,Q=(r=Object(L["connect"])(function(e){var t=e.vdrClient,a=e.loading;return{client:t.client,proxy:t.proxy,loading:a.models.list}}),r((o=function(e){function t(){var e,a;y()(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return a=E()(this,(e=I()(t)).call.apply(e,[this].concat(i))),a.state={formParams:{count:10,page:0},page:0,count:10,visible:!1,current:void 0,selectTab:0},a.onChange=function(e){a.setState({selectTab:e-1,current:void 0})},a.columns=[{title:"\u540d\u79f0",dataIndex:"name",align:"center"},{title:"\u8054\u7cfb\u4eba",dataIndex:"contact",align:"center"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",align:"center"},{title:"\u6536\u8d27\u5730\u5740",dataIndex:"address",align:"center"},{title:"\u5f00\u7968\u62ac\u5934",dataIndex:"invoiceName",align:"center"},{title:"\u7a0e\u53f7",dataIndex:"licence",align:"center"},{title:"\u5355\u4f4d\u5730\u5740",dataIndex:"invoiceAddress",align:"center"},{title:"\u7535\u8bdd\u53f7\u7801",dataIndex:"phone",align:"center"},{title:"\u5f00\u6237\u94f6\u884c",dataIndex:"bank",align:"center"},{title:"\u94f6\u884c\u8d26\u6237",dataIndex:"account",align:"center"},{title:"\u64cd\u4f5c",align:"center",render:function(e){return F.a.createElement(D["Fragment"],null,F.a.createElement("a",{onClick:function(t){t.stopPropagation(),a.handleModalVisible(e)}},"\u4fee\u6539"),F.a.createElement(v["a"],{type:"vertical"}),F.a.createElement("a",{onClick:function(t){t.stopPropagation(),a.handleDelete(e)}},"\u5220\u9664"))}}],a.columnsProxy=[{title:"\u59d3\u540d",dataIndex:"name",align:"center"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",align:"center"},{title:"\u4ee3\u7406\u5730\u533a",dataIndex:"address",align:"center"},{title:"\u5f00\u7968\u62ac\u5934",dataIndex:"invoiceName",align:"center"},{title:"\u7a0e\u53f7",dataIndex:"licence",align:"center"},{title:"\u5355\u4f4d\u5730\u5740",dataIndex:"invoiceAddress",align:"center"},{title:"\u7535\u8bdd\u53f7\u7801",dataIndex:"phone",align:"center"},{title:"\u5f00\u6237\u94f6\u884c",dataIndex:"bank",align:"center"},{title:"\u94f6\u884c\u8d26\u6237",dataIndex:"account",align:"center"},{title:"\u64cd\u4f5c",align:"center",render:function(e){return F.a.createElement(D["Fragment"],null,F.a.createElement("a",{onClick:function(t){t.stopPropagation(),a.handleModalVisible(e)}},"\u4fee\u6539"),F.a.createElement(v["a"],{type:"vertical"}),F.a.createElement("a",{onClick:function(t){t.stopPropagation(),a.handleDelete(e)}},"\u5220\u9664"))}}],a.handleModalVisible=function(e){a.setState({current:e,visible:!0})},a.handleDelete=function(e,t){var n=a.state.selectTab,i=0==n?"\u5ba2\u6237":"\u4ee3\u7406";m["a"].confirm({title:"\u5220\u9664".concat(i),content:"\u786e\u5b9a\u5220\u9664\u8be5".concat(i,"\u5417\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return a.deleteHandler(e)}})},a.deleteHandler=function(e){var t=a.props.dispatch,n=a.state,i=n.selectTab,l=n.page,r=n.count;t({type:"vdrClient/delClient",payload:{id:e.id,fetch:{type:i,page:l,count:r}}})},a.handleStandardTableChange=function(e,t,n){var i=a.props,l=i.dispatch,r=(i.handleStandardTableChangeProps,a.state),c=(r.count,r.page,r.selectTab),o=Object(K["b"])(t),d=g()({page:e.current-1,count:e.pageSize},o);a.setState({count:e.pageSize,page:e.current-1}),n.field&&(d.sorter="".concat(n.field,"_").concat(n.order)),l({type:"vdrClient/getClientList",payload:g()({},d,{type:c})})},a.handleCancel=function(){a.setState({visible:!1,current:void 0})},a.handleSubmit=function(e){var t=a.props.dispatch,n=a.state,i=n.current,l=n.page,r=n.count,c=n.selectTab;t(void 0!==i?{type:"vdrClient/upClient",payload:{up:g()({},i,e,{type:c}),fetch:{page:l,count:r,type:c}},callback:function(){a.setState({visible:!1,current:void 0})}}:{type:"vdrClient/addClient",payload:{add:g()({},e,{type:c}),fetch:{page:l,count:r,type:c}},callback:function(){a.setState({visible:!1,current:void 0})}})},a.addModel=function(){a.setState({visible:!0,current:void 0})},a}return T()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.state.formParams;e({type:"vdrClient/getClientList",payload:g()({},t,{type:0})}),e({type:"vdrClient/getClientList",payload:g()({},t,{type:1})})}},{key:"render",value:function(){var e,t=this.state,a=t.visible,n=t.current,i=t.page,l=t.count,r=t.selectTab,c=this.props,o=c.client,s=c.proxy,h=c.loading,g=0==r?o||[]:s||[],m={visible:a,current:n,client:o,proxy:s,selectTab:r,handleCancel:this.handleCancel,handleSubmit:this.handleSubmit},v={list:g&&g.items||[],pagination:{total:g?g.total:void 0,pageSize:l,current:i+1}};return F.a.createElement(M["a"],{title:Object(O["formatMessage"])({id:"vendor.menu.factory.client"})},F.a.createElement(d["a"],{bordered:!1},F.a.createElement(P["a"],{animated:!1,defaultActiveKey:"1",onChange:this.onChange},F.a.createElement(q,{tab:"\u5ba2\u6237",key:"1"},F.a.createElement("div",{className:Z.a.tableListOperator},F.a.createElement(u["a"],{type:"primary",onClick:this.addModel},"\u65b0\u589e\u5ba2\u6237")),F.a.createElement(w["a"],{loading:h,data:v,columns:this.columns,onChange:this.handleStandardTableChange,rowkey:"id"})),F.a.createElement(q,{tab:"\u4ee3\u7406",key:"2"},F.a.createElement("div",{className:Z.a.tableListOperator},F.a.createElement(u["a"],{type:"primary",onClick:this.addModel},"\u65b0\u589e\u4ee3\u7406")),F.a.createElement(w["a"],(e={loading:!1},p()(e,"loading",h),p()(e,"data",v),p()(e,"columns",this.columnsProxy),p()(e,"onChange",this.handleStandardTableChange),p()(e,"rowkey","id"),e))))),F.a.createElement(J,m))}}]),t}(D["PureComponent"]),c=o))||c);t["default"]=Q}}]);